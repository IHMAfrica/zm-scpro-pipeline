# ===== SQL Server (source) =====
SQLSERVER_HOST=host.docker.internal
SQLSERVER_PORT=1433
SQLSERVER_DB=carepro
SQLSERVER_USER=airflow_user
SQLSERVER_PASSWORD=Tr@cK3RIHM_!2025
SQLSERVER_ENCRYPT=false
# pymssql supports up to 7.3 reliably; donâ€™t use 7.4
SQLSERVER_TDS_VERSION=7.3

# ===== Incremental (optional; producers will ignore if INCREMENTAL=0) =====
INCREMENTAL=0
LOOKBACK_HOURS=24
ART_INC_COL=last_modified
INTERACTIONS_INC_COL=last_modified

# ===== Kafka (shared) =====
# Keep both names to satisfy any code using either
KAFKA_BOOTSTRAP=kafka:9092
KAFKA_BOOTSTRAP_SERVERS=kafka:9092

# DEV uses PLAINTEXT; leave SASL blanks
KAFKA_SECURITY_PROTOCOL=PLAINTEXT
KAFKA_SASL_MECHANISM=
KAFKA_SASL_USER=
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=

KAFKA_CLIENT_ID=carepro-producer
KAFKA_COMPRESSION_TYPE=snappy

KAFKA_TOPIC_ART=carepro.art_cohort
KAFKA_TOPIC_INTERACTIONS=carepro.all_interactions

# ===== Schema Registry & Connect security (driven by compose) =====
# Schema Registry listens internally on http://schema-registry:8081
SCHEMA_REGISTRY_SECURITY_PROTOCOL=PLAINTEXT
SCHEMA_REGISTRY_SASL_MECHANISM=
SCHEMA_REGISTRY_SASL_JAAS_CONFIG=

CONNECT_SECURITY_PROTOCOL=PLAINTEXT
CONNECT_SASL_MECHANISM=
CONNECT_SASL_JAAS_CONFIG=


# ===== Flink sink to Postgres =====
PG_HOST=postgres
PG_PORT=5432
PG_DB=carepro_messages
PG_USER=postgres
PG_PASSWORD=1234
PG_SSLMODE=disable

# ===== Postgres (Flink sink) =====
POSTGRES_DB=carepro_messages
POSTGRES_USER=postgres
POSTGRES_PASSWORD=1234
# (Host is set to `postgres` inside compose for Flink; no need here.)

# ===== Flink tuning =====
FLINK_PARALLELISM=2
FLINK_CHECKPOINT_INTERVAL_MS=60000

# ===== Producer tuning =====
BATCH_SIZE=5000
MAX_WORKERS=1
